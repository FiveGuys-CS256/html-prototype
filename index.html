<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>CS256 Project</title>
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/flex.css">
    <link rel="stylesheet" href="css/tabs.css">
    <link rel="stylesheet" href="css/select_a_meal.css">
    <link rel="stylesheet" href="css/timers.css"/>
    <link rel="stylesheet" href="css/timeline.css">
    <script src="js/timers.js"></script>
    <script src="js/recipes.js"></script>
    <script src="js/select-meal.js"></script>
    <script src="js/ingredient-view.js"></script>
    <script>
    // James: I will refactor this code later :p
        function getRecipe(name) {
            document.getElementById("single-recipe-name").innerHTML = name;
            /* document.getElementById("single-recipe-ingredients").empty();
            document.getElementById("single-recipe-directions").empty(); */
            if(name == "New York Cheesecake")
            {
                fillRecipe(0,1);
                populateIngredientList("cheesecake");
            }
            else if(name == "Artisan Bread")
            {
                fillRecipe(0,2);
                populateIngredientList("bread");
            }
            else if(name == "Lobster Mac")
            {
                fillRecipe(0,0);
                populateIngredientList("lobster");
            }
            else if(name == "Family Quiche")
            {
                fillRecipe(0,3);
                populateIngredientList("quiche");
            }
        }

        function fillRecipe(labNo, recipeNo)
        {
            var singleRecIng = document.getElementById("single-recipe-ingredients");
            var cheesecake = allRecipes["Lab 1"][recipeNo]["ingredients"];

            for (var i = 0; i < cheesecake.length; i++ ) {
                var step = document.createElement("li");
                step.innerHTML = cheesecake[i];
                singleRecIng.appendChild(step);
            }

            var singleRecDir = document.getElementById("single-recipe-directions");
            var cheesecake2 = allRecipes["Lab 1"][recipeNo]["instructions"];

            for (var i = 0; i < cheesecake2.length; i++ ) {
                var step = document.createElement("li");
                step.innerHTML = cheesecake2[i];
                singleRecDir.appendChild(step);
            }

            var singleRecImg = document.getElementById("single-recipe-image");
            singleRecImg.src = allRecipes["Lab 1"][recipeNo].image;
        }
        function removeChildren(id)
        {
            var list = document.getElementById(id);
            while(list.hasChildNodes())
            {
                var child = list.firstElementChild;
                list.removeChild(child);
            }
        }
        function populateIngredientList(name) {
            populateAllIngredients();
            switch (name) {
            case "lobster":
              var recipe = allRecipes["Lab 1"][0];
              populateIngredients(recipe);
              break;
            case "cheesecake":
              var recipe = allRecipes["Lab 1"][1];
              populateIngredients(recipe);
              break;
            case "bread":
              var recipe = allRecipes["Lab 1"][2];
              populateIngredients(recipe);
              break;
            case "quiche":
              var recipe = allRecipes["Lab 1"][3];
              populateIngredients(recipe);
              break;
            default:
              // alert("None found");
              break;
            }
        };

      function populateAllIngredients() {
        var html = "";
        html += "<h4>All Ingredients</h4>";
        html += "<ul>";
        html += "<li>11 eggs, plus 2 egg yolks</li>";
        html += "<li>2 3/4 cups all-purpose flour</li>";
        html += "<li>8 1/2 oz butter</li>";
        html += "<li>1 homemade or store-bought single-crust pie dough</li>";
        html += "<li>2 cups medium diced yellow onion (from 1 large onion)</li>";
        html += "<li>Coarse salt and ground pepper</li>";
        html += "<li>1 teaspoon vanilla extract</li>";
        html += "<li>Zest of 1 lemon</li>";
        html += "<li>1 3/4 cups granulated sugar</li>";
        html += "<li>8 ounces sour cream, room temperature</li>";
        html += "<li>2 1/2 pounds cream cheese (5 8-ounce packages)</li>";
        html += "<li>1/3 cup sugar</li>";
        html += "<li>4 ounces graham crackers</li>";
        html += "<li>...</li>";
        html += "</ul>";

        document.getElementById("ingredient-combined-view").innerHTML = html;
      };

      function populateIngredients(recipe) {
        var myName = recipe.name;
        var list = "";
        list += "<h4> " + myName + "</h4>";

        list += "<ul>";

        for (var i = 0; i < recipe.ingredients.length; i++) {
          list += "<li>" + recipe.ingredients[i] + "</li>"; 
        };

        list += "</ul>";

        document.getElementById("ingredient-single-view").innerHTML = list;
      };

      function loadPage() {
        window.location.href = '#meal-modal';
        populateIngredientList('cheesecake');
        populateAllIngredients();
      };

      function setIdValue(id, value) {
        document.getElementById(id).Value = value;
      }

    // </script>
</head>
<body onLoad="loadPage()">

<!-- Modal -->
<!-- Change the ID of the modal for each modal -->
<div class="modal" id="settings-modal" aria-hidden="true">
  <div class="modal-dialog" style="width: 350px; height: 400px;">
    <div class="modal-header">
      <div class="title modal-title">Settings</div>
    </div>
    <div class="modal-body">
      <div class="student-information">
      Student ID <br/>
      <input type="text" value="234325" id="student-id">
      Class ID <br/>
      <input type="text" value="sfl110B" id="class-id">
    </div>
    <div class="modal-footer">
      <a href="#close"  class="btn">Done</a>  <!--CHANGED TO "#close"-->
    </div>
    </div>
  </div>
</div>
<!-- /Modal -->

<!-- Single Recipe Modal -->
<div class="modal" id="single-recipe" aria-hidden="true">
    <div class="modal-dialog" style="width:1300px; height:650px;">
        <div class="modal-header">
            <!-- Insert name of recipe -->
            <div class="title modal-title" id="single-recipe-name"></div>
        </div>
        <div class="modal-body">
            <div class="modal-recipe-container">
                <div class="modal-ingredients">
                    <img id="single-recipe-image">
                        <!-- Insert Picture -->
                    <h2>Ingredients</h2>
                    <ul id="single-recipe-ingredients">
                        <!-- Insert Ingredients -->
                    </ul>
                </div>
                <div class="modal-directions">
                    <h2>Instructions</h2>
                    <ol id="single-recipe-directions">
                        <!-- Insert Directions -->
                    </ol>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <a href="#close" class="btn">Back</a>
        </div>
    </div>
</div>
</div>
<!-- /Modal -->

<!-- Select a Meal Modal -->
<!-- Change the ID of the modal for each modal -->
<!-- TODO: remove some of that javascript cruft and just have most of it in HTML  -->
<div class="modal" id="meal-modal" aria-hidden="true">
  <div class="modal-dialog" style="width:1100px; height:600px;">
    <div class="modal-header">
      <div class="title modal-title">Select A Meal</div>
    </div>
    <div class="modal-body" id="select-recipe-body">
      <div class="side-bar">
        <ul class="side-bar-list" id="meal-modal-labs"></ul>
      </div>
      <div class="picture-layout" id="meal-modal-recipes"></div>
    </div>
    <div class="modal-footer">
      <a href="#close" class="btn">Start</a>
    </div>
  </div>
</div>
<!-- /Modal -->

<!-- Modal -->
<!-- Change the ID of the modal for each modal -->
<!-- <div class="modal" id="modal-test" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-header">
      <h2>Modal in CSS?</h2>
    </div>
    <div class="modal-body">
      <p>One modal example here! :D</p>
    </div>
    <div class="modal-footer">
      <a href="#close" class="btn">Nice!</a>
    </div>
    </div>
  </div>
</div> -->
<!-- /Modal -->

<div id="header">
    <div id="decoration"></div>
    <div class="nav">
        <div id="title">Lab 1</div>
    </div>
    <div class="nav">
        <a href="#meal-modal"><div id="edit-meal">Change Meal</div></a>
    </div>
    <div class="nav" id="settings">
        <a href="#settings-modal"><div id="settings-button"><img src="img/settings_cog.png" id="settings-image"></div></a>
    </div>
</div>
<div id='main'>
  <article>
      <div id="timeline-container">
      <table id="timeline">
          <tr>
              <th style="background:none; border-style:none;"></th>
              <th><div class="mini-picture" id="image-1" onclick="getRecipe('New York Cheesecake')"><a href="#single-recipe"><img src="http://www.dzai.com.br/static/conteudos/2013/05/14/99/99872/posts/61826a4f3540c85560e7cf5616574e75.jpg" ></a>
                  <a href="#" onclick="populateIngredientList('cheesecake')">
                      <h2>
                      New York Cheesecake
                      </h2>
                  </a>
                  </div>
              </th>
              <th><div class="mini-picture" id="image-2" onclick="getRecipe('Artisan Bread')"><a href="#single-recipe"><img src="http://www.bbc.co.uk/staticarchive/16d6061f7fc1eb83e5524b5b18a06688b5787b0d.jpg" ></a>
                  <a href="#" onclick="populateIngredientList('bread')">
                  <h2>
                      Artisan Bread
                  </h2>
                  </a>
                  </div>
              </th>
              <th><div class="mini-picture"  id="image-3" onclick="getRecipe('Lobster Mac')"><a href="#single-recipe"><img src="http://www.calendarislandsmainelobster.com/rotator-masthead/images/Maine_Lobster_Mac_n_Cheese.jpg" ></a>
                  <a href="#" onclick="populateIngredientList('lobster')">
                  <h2>
                      Lobster Mac 'n Cheese
                  </h2>
                  </a>
                  </div>
              </th>
              <th><div class="mini-picture" id="image-4" onclick="getRecipe('Family Quiche')"><a href="#single-recipe"><img src="http://www.prettychef.fr/wp-content/uploads/2015/02/recette-quiche-lardons-choux-bruxelles-00-500x300.jpg" ></a>
                  <a href="#" onclick="populateIngredientList('quiche')">
                  <h2>
                      Family Quiche
                  </h2>
                  </a>
                  </div>
              </th>
          </tr>
          <tr>
              <td>5:00</td>
              <td>
                  <p>1. Preheat oven to 375 degrees with rack in lower third of oven.</p>
                  <p>2. Butter the bottom and sides of a 9- by 13-inch springform pan. Line the sides of the pan with parchment, butter the parchment.</p>
                  <p>3. Crush graham crackers with salt and sugar. Add butter. Bake until crust is golden brown and set, 15 minutes.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="BakeCrust" data-minutes="15" data-seconds="00"></p>
              </td>
              <td>
                  <p>1. Combine 5 ounces of flour, 1/4 teaspoon of the yeast, honey, and bottled water. Cover loosely and refrigerate for 8 to 12 hours.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Fridge Dough" data-minutes="600" data-seconds="00">
                  </p>
              </td><td>
              </td><td>
              </td>
          </tr>
          <tr>
              <td>5:15</td>
              <td>4. Remove from oven and transfer to wire rack to cool 10 minutes.
                  <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Let Cake Cool" data-minutes="10" data-seconds="00">
              </td>
              <td>
                  <p>2. Place the remaining flour, yeast, and all the salt into the bowl, and add the pre-ferment from the refrigerator.
                      Knead the mixture on low for 2 to 3 minutes just until it comes together.
                      Cover and allow to rest for 20 minutes.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Let Dough Rise" data-minutes="20" data-seconds="00">
                  </p>
              </td>
              <td></td>
              <td></td>
          </tr>
          <tr>
              <td>5:30</td>
              <td><p>5. Beat cream cheese, butter, and sour cream with sugar until light and smooth.
                  Beat in eggs one at a time. Beat in remaining egg yolks, zest, and vanilla extract.</p>
                  <p>6. Crisscross two long pieces of foil and place a piece of parchment on top. Place springform in center of foil and wrap foil tightly around bottom and sides of pan.
                      Transfer to a roasting pan, pour filling into springform pan, and smooth the top.</p>
                  <p>7. Pour boiling water into roasting pan to come halfway up the sides of the springform pan and carefully transfer to oven.
                      Bake for 1 hour until top of cheesecake is golden brown, edges are set, and center jiggles slightly.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Bake Cheesecake" data-minutes="60" data-seconds="00"></p>
              </td>
              <td>
                  <p>knead the dough on medium speed for 5 to 10 minutes or until you are able to gently pull the dough into a thin sheet that light will pass through.
                      The dough will be sticky, but not so sticky that you can't handle it.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Knead Dough" data-minutes="5" data-seconds="00">
                  </p>
              </td>
              <td>
              </td>
              <td><p>1. Preheat oven to 375 degrees.</p>
                  <p>2. Roll out dough to a 12-inch round. Place in a 9-inch pie plate. Place a sheet of parchment paper over dough and fill with pie weights.</p>
                  <p>3. Bake for 20 minutes.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Bake quiche crust" data-minutes="20" data-seconds="00">
                  </p>
              </td>
          </tr>
          <tr>
              <td>5:45</td>
              <td><p>8. Lift cheesecake from water bath, remove foil and parchment from outside of springform, and chill cheesecake in refrigerator for at least 8 hours.
                  <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Let it chill" data-minutes="480" data-seconds="00"></p>
              </td>
              <td>
                  <p>3. While the dough is kneading, pour half of the hot water into a shallow pan and place on the bottom rack of your oven.</p>
                  <p>4. Grease the inside of a large straight-sided container with the vegetable oil. Place the dough ball into the container and set on the rack above the pan of water.
                      Allow to rise until doubled in size, approximately 1 to 2 hours.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Let Rise" data-minutes="60">
                  </p>
              </td>
              <td><p>1. Preheat the oven to 375 degrees F.</p>
                  <p>2. Drizzle oil into a large pot of boiling salted water.</p>
                  <p>3. Add the pasta and cook, 6 to 8 minutes. Drain well.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Cook pasta" data-minutes="08" data-seconds="00">
                  </p>
                  <p>4. Meanwhile, heat the milk in a small saucepan, but don't boil it.</p>
                  <p>5. In a large pot, melt 6 tablespoons of butter and add the flour.</p>
                  <p>6. Cook over low heat for 2 minutes, stirring with a whisk. Add the hot milk and cook for a minute or two more, until thickened and smooth.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Cook Mac Sauce" data-minutes="02" data-seconds="00">
                  </p>
              </td>
              <td></td>
            </tr>
            <tr>
                <td>6:00</td>
                <td></td>
                <td><p>5. Once the dough has doubled in size, turn it onto a counter top, lightly dust your hands with flour, and press the dough out with your knuckles; then fold 1 side in towards the middle of the mass and then the other, as if you were making a tri-fold wallet. Repeat the folding a second time. Cover the dough with a kitchen towel and allow to rest for another 10 minutes.
                    <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Let it chill" data-minutes="480" data-seconds="00">
                </p>

                </td>
                <td></td>

                <td>
                    <p>4. Remove parchment and weights.</p>
                    <p>5. Meanwhile, in a large skillet, melt butter over medium-high. Add onion, season with salt and pepper, and cook 8 to 10 minutes.
                        <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Cook Quiche Butter" data-minutes="08" data-seconds="00">
                    </p>
                </td>
          </tr>
          <tr>
              <td>6:15</td>
              <td></td>
              <td>	<p>6. Flatten dough again with your knuckles and then fold the dough in onto itself, like you are shaping something that looks like a jellyfish. Turn the dough over and squeeze the bottom together so that the top surface of the dough is smooth. Place the dough back onto the counter and begin to roll gently between your hands. Do not grab the dough but allow it to move gently back and forth between your hands, moving in a circular motion. Move the dough ball to a pizza peel or the bottom of a sheet pan that has been sprinkled with the cornmeal. Cover with the kitchen towel and allow to bench proof for 1 hour, or until you poke the dough and it quickly fills back in where you poked it.
                  <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Let it chill" data-minutes="480" data-seconds="00">
              </p>
              </td>
              <td></td>
              <td><p>6. In a medium bowl, whisk together eggs and cream. Add onion, bacon, and cheese and season with 1/2 teaspoon salt and 1/4 teaspoon pepper.</p>
                  <p>7. Whisk to combine, pour into crust, and bake until center of quiche is just set, 40 to 45 minutes. Serve warm or at room temperature.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Bake Quiche" data-minutes="40" data-seconds="00">
                  </p>
              </td>

          </tr>
          <tr>
              <td>6:30</td>
              <td></td>
              <td><p>7. Place an unglazed terra cotta dish upside down into the oven and heat the oven to 400 degrees F.</p>
                  <p>	8. Combine the 1/3 cup of water and the cornstarch in a small bowl. Uncover the dough and brush the surface with this mixture. Gently slash the top surface of the dough ball in several places, approximately 1/3 to 1/2-inch deep. Add more of the hot water to the shallow pan if it has evaporated. Slide the bread onto the terra cotta dish in the oven and bake for 50 to 60 minutes. Once the bread has reached an internal temperature of 205 to 210 degrees F, remove to a cooling rack and allow to sit for 30 minutes before slicing.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Let it chill" data-minutes="480" data-seconds="00">
                  </p>
              </td>
              <td><p>7. Off the heat, add the Gruyere, Cheddar, 1 tablespoon salt, the pepper, and nutmeg.</p>
                  <p>8. Add the cooked macaroni and lobster and stir well.</p>
                  <p>9. Place the mixture in 6 to 8 individual gratin dishes.</p>
                  <p>10. Melt the remaining 2 tablespoons of butter, combine them with the fresh bread crumbs, and sprinkle on the top.</p>
                  <p>11. Bake for 30 to 35 minutes.
                      <img style="height: 20px; width:20px;"src="img/stopwatch_brown.png" data-action="add_timer" data-title="Bake LobsterMac" data-minutes="30" data-seconds="00">
                  </p>
              </td>
              <td></td>

          </tr>
          <tr>
              <td>6:45</td>
              <td></td>
              <td></td>
              <td></td>
              <td>
              </td>
          </tr>
          <tr>
              <td>7:00</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
          </tr>
          <tr>
              <td>7:15</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
          </tr>
          <tr>
              <td>7:30</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
          </tr>
          <tr>
              <td>7:45</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
          </tr>
          <tr>
              <td>8:00</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
          </tr>
          <tr>
              <td>8:15</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
          </tr>
          <tr>
              <td>8:30</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
          </tr>
          <tr>
              <td>8:45</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
          </tr>
          <tr>
              <td>9:00</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
          </tr>
          <tr>
              <td>9:15</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
          </tr>
          <tr>
              <td>9:30</td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
          </tr>
      </table>
      </div>
  </article>
  <nav>
    <div class="tabs">
      <div class="tab">
        <input class="tab-radio" type="radio" id="tab-1" name="tab-group-1" checked>
        <label class="tab-label" for="tab-1">Single</label>
        
        <div class="tab-panel">
          <div class="tab-content" id="ingredient-single-view">
           <!-- HTML WILL BE ADDED DYNAMICALLY -->
          </div>
        </div> 
      </div>
      <div class="tab">
        <input class="tab-radio" type="radio" id="tab-2" name="tab-group-1">
        <label class="tab-label" for="tab-2">Combined</label>
        
        <div class="tab-panel">
          <div class="tab-content" id="ingredient-combined-view">
          <!-- HTML WILL BE ADDED DYNAMICALLY -->
          </div>
        </div>
      </div>
    </div>
  </nav>
  <aside></aside>
</div>
<div id="timerConfig" class="timerConfigAnimateOut" data-state="closed">
    <div id="timerConfigHeader">
        <div style="height: 10px; background-color: #ff9a62;"></div>
        <h2>&nbsp;Timer Settings</h2>
    </div>
    <div id="timerConfigBody">
        <div id="timers">
        </div>
            <div id="addtimerbutton" data-action="add_timer" data-state="closed" >
                <span class="addTimerButtonContents" ><span style="font-size: 25px"><b>+</b> New Timer</span></span>

            </div>

        <div id="timerConfigButton">
            <span id="stopwatch_brown"><img height="25" width="25" src="img/stopwatch_brown.png">Edit</span>
        </div>
    </div>
    <button id="closeConfigButton" class="hidden">Close</button>
</div>
</body>
</html>
